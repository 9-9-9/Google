{"name":"Gso","tagline":"使用NodeJs编写的谷歌搜索代理程序","body":"gso(Google So)\r\n===\r\n\r\n这是一个用Node.JS编写的Google搜索服务，原理是拿着用户的关键词去Google服务器搜索，然后将返回的结果响应给用户。\r\n\r\n[可用服务列表](https://github.com/lenbo-ma/gso/wiki/%E5%8F%AF%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%88%97%E8%A1%A8)\r\n\r\n关于证书的说明：文件列表中提供的证书仅为测试使用，在生产环境下需替换为你自己的证书\r\n\r\n----\r\n\r\n## 部署\r\n### 安装：\r\n\r\n```sh\r\ngit clone https://github.com/lenbo-ma/gso.git\r\ncd gso\r\nnpm install --production\r\n```\r\n\r\n### 运行命令：\r\n\r\n#### 测试/调试：\r\n`npm start` 或 `node ./bin/run`\r\n\r\n#### 生产环境\r\n\r\n* 使用[forever](https://github.com/nodejitsu/forever)启动：  \r\n`forever start -e err.log -o output.log ./bin/run`\r\n\r\n* 使用[pm2](https://github.com/Unitech/pm2)启动：  \r\n`pm2 start ./bin/run -i max`\r\n\r\n## 自定义设置\r\n\r\n### 站点名称\r\n设置站点名称后会在首页logo下，浏览器标题栏中显示。\r\n修改conf/config.js文件, 找到name节点, 修改为自己的站点名：\r\n\r\n```javascript\r\nname: '谷搜客'\r\n```\r\n\r\n### 统计脚本\r\n将脚本粘贴到views/partials/statistics.ejs文件中\r\n\r\n### 首页随机文字\r\n将文字粘贴到data/words.txt中，每句以一个空行分割, 支持html代码\r\n\r\n### 设置多个Google IP防止被屏蔽\r\n将可用的IP放入conf/ip.txt文件中,每个ip以一个回车换行分割.\r\n\r\n### 设置HTTP代理服务器\r\n有时,我们可能需要设置一个代理服务器,比如google的ip失效暂时无法使用或被google屏蔽的时候.\r\n修改conf/config.js文件, 找到proxy节点:\r\n\r\n```javascript\r\nproxy: { \r\n      enable: false,  //设置是否启用\r\n      timeout: 5000,  //设置超时时间, enable为true时有效\r\n      host: '',  //代理服务器地址\r\n      port: 80  //代理服务器端口\r\n  }\r\n```\r\n\r\n### 静态文件压缩\r\nclone后的代码是未压缩的，可以使用grunt工具进行压缩。\r\n\r\n#### 压缩js，css文件\r\n\r\n1. 安装grunt工具: `npm install -g grunt-cli`\r\n2. 在项目根目录执行`grunt static`命令\r\n3. 修改conf/config.js中的r_prefix值为`/public`\r\n\r\n注：执行grunt命令前必须使用`npm install`安装依赖，而不是`npm install --production`\r\n\r\n#### html代码压缩\r\n\r\n启动服务前设置`NODE_ENV`为`production`即可，如`NODE_ENV=production forever start bin/run`\r\n\r\n## 完成记录\r\n1. 增加“相关搜索”功能;\r\n2. OpenSearch, 支持IE，Firefox，Chrome设置为默认搜索引擎;\r\n3. 简单的敏感词检测，否则连接会被墙/连接重置;\r\n4. HTML代码压缩，基于html-minifier模块进行压缩已渲染好的HTML代码;\r\n5. headroom功能(当页面向下滚动时，搜索区消失，当页面向上滚动时，搜索区又出现了。个人觉得这个体验对小屏幕笔记本及pad比较好，尤其是手机终端);\r\n6. 实现HTTPS功能(关键词加密);\r\n7. 使用cheeio替代jQuery解析;\r\n8. 输入框自动完成;\r\n9. 搜索内容语言切换;\r\n10. 根据时间段筛选结果;\r\n11. 使用filetype指令搜索时，结果项前缀显示filetype;\r\n12. 支持设置多个Google IP(2014-12-25);\r\n13. 增加HTTP代理功能(2014-12-28);\r\n\r\n## TODO\r\n1. [ ] Pad显示优化，字体优化;\r\n2. [ ] 优化手机端使用体验;\r\n3. [ ] 支持键盘快捷键;\r\n4. [ ] 支持维基百科检索;\r\n5. [ ] 优化错误日志记录;\r\n6. [ ] 支持视频元信息检索(同时检索可播放来源)\r\n7. [ ] 增加在线代理功能(代理搜索结果中出现的部分被屏蔽的网站)；\r\n","google":"UA-42596364-3","note":"Don't delete this file! It's used internally to help with page regeneration."}